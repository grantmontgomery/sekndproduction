{"ast":null,"code":"// type Params = Pick<SearchQuery, \"location\" | \"radius\" | \"placeType\">;\nexport const yelpBusinessesCall = async ({\n  location,\n  radius,\n  placeType\n}) => {\n  try {\n    const response = await fetch(\"/api/yelpBusinessesAPI\", {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      body: JSON.stringify({\n        location,\n        radius,\n        term: placeType\n      })\n    });\n    const responseJson = await response.json();\n    const {\n      businesses\n    } = responseJson;\n    return {\n      props: {\n        businesses\n      }\n    };\n  } catch (err) {\n    const response = {\n      err\n    };\n    return {\n      props: {\n        businesses: {\n          response\n        }\n      }\n    };\n  }\n};","map":{"version":3,"sources":["C:/Users/gmont/sekndproduction/components/SearchBox/APICalls/yelpBusinessesCall.ts"],"names":["yelpBusinessesCall","location","radius","placeType","response","fetch","headers","Accept","method","body","JSON","stringify","term","responseJson","json","businesses","props","err"],"mappings":"AAEA;AAIA,OAAO,MAAMA,kBAIa,GAAG,OAAO;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,MAAZ;AAAoBC,EAAAA;AAApB,CAAP,KAA2C;AACtE,MAAI;AACF,UAAMC,QAAkB,GAAG,MAAMC,KAAK,CAAC,wBAAD,EAA2B;AAC/DC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,kBADD;AAEP,wBAAgB;AAFT,OADsD;AAK/DC,MAAAA,MAAM,EAAE,MALuD;AAM/DC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBV,QAAAA,QADmB;AAEnBC,QAAAA,MAFmB;AAGnBU,QAAAA,IAAI,EAAET;AAHa,OAAf;AANyD,KAA3B,CAAtC;AAYA,UAAMU,YAAY,GAAG,MAAMT,QAAQ,CAACU,IAAT,EAA3B;AAEA,UAAM;AAAEC,MAAAA;AAAF,QAAiBF,YAAvB;AACA,WAAO;AACLG,MAAAA,KAAK,EAAE;AACLD,QAAAA;AADK;AADF,KAAP;AAKD,GArBD,CAqBE,OAAOE,GAAP,EAAY;AACZ,UAAMb,QAAQ,GAAG;AAAEa,MAAAA;AAAF,KAAjB;AACA,WAAO;AACLD,MAAAA,KAAK,EAAE;AACLD,QAAAA,UAAU,EAAE;AAAEX,UAAAA;AAAF;AADP;AADF,KAAP;AAKD;AACF,CAlCM","sourcesContent":["import { SearchQuery } from \"../SearchBox\";\r\n\r\n// type Params = Pick<SearchQuery, \"location\" | \"radius\" | \"placeType\">;\r\n\r\ntype Params = { [key: string]: string };\r\n\r\nexport const yelpBusinessesCall: ({\r\n  location,\r\n  radius,\r\n  placeType,\r\n}: Params) => Promise<any> = async ({ location, radius, placeType }) => {\r\n  try {\r\n    const response: Response = await fetch(\"/api/yelpBusinessesAPI\", {\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        location,\r\n        radius,\r\n        term: placeType,\r\n      }),\r\n    });\r\n    const responseJson = await response.json();\r\n\r\n    const { businesses } = responseJson;\r\n    return {\r\n      props: {\r\n        businesses,\r\n      },\r\n    };\r\n  } catch (err) {\r\n    const response = { err };\r\n    return {\r\n      props: {\r\n        businesses: { response },\r\n      },\r\n    };\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}