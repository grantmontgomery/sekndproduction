{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nexport var yelpEventsCall = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var where, unixStartDate, unixEndDate, eventsCategory, radius, response, responseJson;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            where = _ref.where, unixStartDate = _ref.unixStartDate, unixEndDate = _ref.unixEndDate, eventsCategory = _ref.eventsCategory, radius = _ref.radius;\n            _context.prev = 1;\n            _context.next = 4;\n            return fetch(\"/api/yelpEvents\", {\n              headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\"\n              },\n              method: \"POST\",\n              body: JSON.stringify({\n                location: where,\n                radiusInt: radius,\n                start_date: unixStartDate,\n                end_date: unixEndDate,\n                categories: eventsCategory\n              })\n            });\n\n          case 4:\n            response = _context.sent;\n            responseJson = response.json();\n            console.log(process.env.YELP_API_KEY);\n            console.log(responseJson);\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 10]]);\n  }));\n\n  return function yelpEventsCall(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["C:/Users/gmont/sekndproduction/components/SearchBox/APICalls/yelpEventsCall.ts"],"names":["yelpEventsCall","where","unixStartDate","unixEndDate","eventsCategory","radius","fetch","headers","Accept","method","body","JSON","stringify","location","radiusInt","start_date","end_date","categories","response","responseJson","json","console","log","process","env","YELP_API_KEY"],"mappings":";;AAOA,OAAO,IAAMA,cAMa;AAAA,uEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3BC,YAAAA,KAD2B,QAC3BA,KAD2B,EAE3BC,aAF2B,QAE3BA,aAF2B,EAG3BC,WAH2B,QAG3BA,WAH2B,EAI3BC,cAJ2B,QAI3BA,cAJ2B,EAK3BC,MAL2B,QAK3BA,MAL2B;AAAA;AAAA;AAAA,mBAQQC,KAAK,CAAC,iBAAD,EAAoB;AACxDC,cAAAA,OAAO,EAAE;AACPC,gBAAAA,MAAM,EAAE,kBADD;AAEP,gCAAgB;AAFT,eAD+C;AAKxDC,cAAAA,MAAM,EAAE,MALgD;AAMxDC,cAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,gBAAAA,QAAQ,EAAEZ,KADS;AAEnBa,gBAAAA,SAAS,EAAET,MAFQ;AAGnBU,gBAAAA,UAAU,EAAEb,aAHO;AAInBc,gBAAAA,QAAQ,EAAEb,WAJS;AAKnBc,gBAAAA,UAAU,EAAEb;AALO,eAAf;AANkD,aAApB,CARb;;AAAA;AAQnBc,YAAAA,QARmB;AAsBnBC,YAAAA,YAtBmB,GAsBWD,QAAQ,CAACE,IAAT,EAtBX;AAuBzBC,YAAAA,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAAR,CAAYC,YAAxB;AACAJ,YAAAA,OAAO,CAACC,GAAR,CAAYH,YAAZ;AAxByB;AAAA;;AAAA;AAAA;AAAA;AA0BzBE,YAAAA,OAAO,CAACC,GAAR;;AA1ByB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBANbtB,cAMa;AAAA;AAAA;AAAA,GANnB","sourcesContent":["import { SearchQuery } from \"../SearchBox\";\r\n\r\ntype Params = Pick<\r\n  SearchQuery,\r\n  \"where\" | \"unixStartDate\" | \"unixEndDate\" | \"eventsCategory\" | \"radius\"\r\n>;\r\n\r\nexport const yelpEventsCall: ({\r\n  where,\r\n  unixStartDate,\r\n  unixEndDate,\r\n  eventsCategory,\r\n  radius,\r\n}: Params) => Promise<any> = async ({\r\n  where,\r\n  unixStartDate,\r\n  unixEndDate,\r\n  eventsCategory,\r\n  radius,\r\n}) => {\r\n  try {\r\n    const response: Response = await fetch(\"/api/yelpEvents\", {\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        location: where,\r\n        radiusInt: radius,\r\n        start_date: unixStartDate,\r\n        end_date: unixEndDate,\r\n        categories: eventsCategory,\r\n      }),\r\n    });\r\n    const responseJson: Promise<JSON> = response.json();\r\n    console.log(process.env.YELP_API_KEY);\r\n    console.log(responseJson);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}