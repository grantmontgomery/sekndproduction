{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport * as React from \"react\";\nimport { Layout, ResultCard } from \"../../components\";\nimport { yelpBusinessesCall } from \"../../apicalls\";\nimport css from \"../../styles/Queried.module.scss\";\nexport default function Queried(_ref) {\n  var results = _ref.results,\n      searchType = _ref.searchType;\n\n  var _React$useState = React.useState({\n    resultsType: \"\"\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      state = _React$useState2[0],\n      setState = _React$useState2[1];\n\n  React.useEffect(function () {\n    if (searchType) {\n      switch (searchType) {\n        case \"ALL\":\n      }\n    }\n  });\n\n  var setTypeButtons = function setTypeButtons() {\n    if (searchType) {\n      switch (searchType) {\n        case \"ALL\":\n          return __jsx(React.Fragment, null, __jsx(\"button\", {\n            className: css.typeButton\n          }, \"Places\"), __jsx(\"button\", {\n            className: css.typeButton\n          }, \"Events\"));\n\n        case \"PLACES\":\n          return __jsx(\"button\", {\n            className: css.typeButton\n          }, \"Places\");\n\n        case \"EVENTS\":\n          return __jsx(\"button\", {\n            className: css.typeButton\n          }, \"Events\");\n\n        default:\n          return __jsx(React.Fragment, null, __jsx(\"button\", {\n            className: css.typeButton\n          }, \"Places\"), __jsx(\"button\", {\n            className: css.typeButton\n          }, \"Events\"));\n      }\n    } else {\n      return __jsx(React.Fragment, null, __jsx(\"button\", {\n        className: css.typeButton\n      }, \"Places\"), __jsx(\"button\", {\n        className: css.typeButton\n      }, \"Events\"));\n    }\n  };\n\n  console.log(Array.isArray(results));\n  return __jsx(Layout, null, __jsx(\"main\", {\n    className: css.queriedPage\n  }, __jsx(\"section\", {\n    className: css.queryDisplay\n  }), __jsx(\"section\", {\n    className: css.header\n  }, setTypeButtons(), __jsx(\"button\", {\n    className: css.sort\n  }, \"Sort\")), __jsx(\"section\", {\n    className: css.results\n  }, __jsx(\"div\", {\n    className: css.resultsSlider\n  }, results && Array.isArray(results) ? results.map(function (item) {\n    return __jsx(ResultCard, {\n      key: item.id,\n      item: item\n    });\n  }) : null, __jsx(ResultCard, {\n    item: {}\n  })))));\n}\n\nQueried.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var query, checkURLIsString, paramValueArray, searchParamsValues, apiResponse;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref2.query;\n\n            if (!query.queried) {\n              _context.next = 12;\n              break;\n            }\n\n            checkURLIsString = query.queried.toString();\n            paramValueArray = checkURLIsString.split(\"+\");\n            searchParamsValues = {};\n            paramValueArray.forEach(function (param) {\n              var indexOfEqual = param.search(\"=\");\n              if (indexOfEqual === -1) return;else {\n                var paramKey = param.substring(0, indexOfEqual);\n                var paramValue = param.substring(indexOfEqual + 1);\n                searchParamsValues[paramKey] = paramValue;\n              }\n            });\n            _context.next = 8;\n            return yelpBusinessesCall(searchParamsValues);\n\n          case 8:\n            apiResponse = _context.sent;\n            return _context.abrupt(\"return\", {\n              results: apiResponse,\n              searchType: searchParamsValues.searchType\n            });\n\n          case 12:\n            return _context.abrupt(\"return\", {\n              results: {},\n              searchType: \"ALL\"\n            });\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();","map":null,"metadata":{},"sourceType":"module"}