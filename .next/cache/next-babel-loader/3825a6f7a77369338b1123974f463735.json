{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\gmont\\\\sekndproduction\\\\components\\\\DatePart\\\\NormalPiece\\\\NormalPiece.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from \"react\";\nimport css from \"./NormalPiece.module.scss\";\nimport { DetailsSection } from \"./DetailsSection\";\nimport { usePartsDispatch } from \"../../../state/DatePartsContext\";\nimport { PartImage } from \"./PartImage\";\nexport var NormalPiece = function NormalPiece(_ref) {\n  _s();\n\n  var part = _ref.part;\n\n  var _React$useState = React.useState({\n    extend: false,\n    imageLoaded: false\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      state = _React$useState2[0],\n      setState = _React$useState2[1];\n\n  var dispatch = usePartsDispatch();\n\n  var determineImageBackgroundSource = function determineImageBackgroundSource() {\n    switch (part.type) {\n      case \"place\":\n        return part.source === \"yelp\" ? part.image_url : null;\n\n      case \"event\":\n        return part.source === \"yelp\" ? part.image_url : part.images[0].url;\n\n      default:\n        return \"\";\n    }\n  };\n\n  var determinePartDetails = function determinePartDetails() {\n    switch (part.type) {\n      case \"custom\":\n        return __jsx(DetailsSection, {\n          id: part.id,\n          details: part.details,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 11\n          }\n        });\n\n      case \"event\":\n        var determineVenue = function determineVenue() {\n          switch (part.source) {\n            case \"yelp\":\n              return !part.businesess_id || part.business_id === null ? null : part.business_id;\n\n            case \"ticketmaster\":\n              return part._embedded.venues[0].name;\n          }\n        };\n\n        var determinePrice = function determinePrice() {\n          switch (part.source) {\n            case \"yelp\":\n              if (!part.cost) return null;\n              return part.cost;\n\n            case \"ticketmaster\":\n              if (!part.priceRanges) return null;\n              return part.priceRanges[0];\n          }\n        };\n\n        return __jsx(DetailsSection, {\n          location: determineVenue() // price={determinePrice()}\n          ,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 11\n          }\n        });\n\n      case \"place\":\n        return;\n\n      default:\n        return null;\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"\".concat(css.normalPiece, \" \").concat(state.extend ? css.extended : null),\n    onClick: function onClick() {\n      return setState(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          extend: true\n        });\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, __jsx(PartImage, {\n    type: part.type,\n    color: part.type === \"custom\" ? part.color : null,\n    imageLoaded: state.imageLoaded,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, __jsx(\"img\", {\n    src: determineImageBackgroundSource(),\n    alt: \"\",\n    onLoad: function onLoad() {\n      return setState(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          imageLoaded: true\n        });\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  })), __jsx(\"div\", {\n    className: css.partTitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, __jsx(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, part.name), __jsx(\"button\", {\n    className: css[\"delete\"],\n    onClick: function onClick() {\n      return dispatch({\n        type: \"REMOVE_PART\",\n        payload: {\n          id: part.id\n        }\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, \"X\")), state.extend ? determinePartDetails() : null);\n};\n\n_s(NormalPiece, \"Z5vXcLcvMFiteU+NdpK7eux1KAU=\", false, function () {\n  return [usePartsDispatch];\n});\n\n_c = NormalPiece;\n\nvar _c;\n\n$RefreshReg$(_c, \"NormalPiece\");","map":{"version":3,"sources":["C:/Users/gmont/sekndproduction/components/DatePart/NormalPiece/NormalPiece.tsx"],"names":["React","css","DetailsSection","usePartsDispatch","PartImage","NormalPiece","part","useState","extend","imageLoaded","state","setState","dispatch","determineImageBackgroundSource","type","source","image_url","images","url","determinePartDetails","id","details","determineVenue","businesess_id","business_id","_embedded","venues","name","determinePrice","cost","priceRanges","normalPiece","extended","color","partTitle","payload"],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,GAAP,MAAgB,2BAAhB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,gBAAT,QAAiC,iCAAjC;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,OAAO,IAAMC,WAAuD,GAAG,SAA1DA,WAA0D,OAEjE;AAAA;;AAAA,MADJC,IACI,QADJA,IACI;;AAAA,wBACsBN,KAAK,CAACO,QAAN,CAGvB;AACDC,IAAAA,MAAM,EAAE,KADP;AAEDC,IAAAA,WAAW,EAAE;AAFZ,GAHuB,CADtB;AAAA;AAAA,MACGC,KADH;AAAA,MACUC,QADV;;AAQJ,MAAMC,QAAQ,GAAGT,gBAAgB,EAAjC;;AACA,MAAMU,8BAA4C,GAAG,SAA/CA,8BAA+C,GAAM;AACzD,YAAQP,IAAI,CAACQ,IAAb;AACE,WAAK,OAAL;AACE,eAAOR,IAAI,CAACS,MAAL,KAAgB,MAAhB,GAAyBT,IAAI,CAACU,SAA9B,GAA0C,IAAjD;;AACF,WAAK,OAAL;AACE,eAAOV,IAAI,CAACS,MAAL,KAAgB,MAAhB,GAAyBT,IAAI,CAACU,SAA9B,GAA0CV,IAAI,CAACW,MAAL,CAAY,CAAZ,EAAeC,GAAhE;;AACF;AACE,eAAO,EAAP;AANJ;AAQD,GATD;;AAWA,MAAMC,oBAAuC,GAAG,SAA1CA,oBAA0C,GAAM;AACpD,YAAQb,IAAI,CAACQ,IAAb;AACE,WAAK,QAAL;AACE,eACE,MAAC,cAAD;AAAgB,UAAA,EAAE,EAAER,IAAI,CAACc,EAAzB;AAA6B,UAAA,OAAO,EAAEd,IAAI,CAACe,OAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;;AAGF,WAAK,OAAL;AACE,YAAMC,cAAmC,GAAG,SAAtCA,cAAsC,GAAM;AAChD,kBAAQhB,IAAI,CAACS,MAAb;AACE,iBAAK,MAAL;AACE,qBAAO,CAACT,IAAI,CAACiB,aAAN,IAAuBjB,IAAI,CAACkB,WAAL,KAAqB,IAA5C,GACH,IADG,GAEHlB,IAAI,CAACkB,WAFT;;AAGF,iBAAK,cAAL;AACE,qBAAOlB,IAAI,CAACmB,SAAL,CAAeC,MAAf,CAAsB,CAAtB,EAAyBC,IAAhC;AANJ;AAQD,SATD;;AAWA,YAAMC,cAGI,GAAG,SAHPA,cAGO,GAAM;AACjB,kBAAQtB,IAAI,CAACS,MAAb;AACE,iBAAK,MAAL;AACE,kBAAI,CAACT,IAAI,CAACuB,IAAV,EAAgB,OAAO,IAAP;AAChB,qBAAOvB,IAAI,CAACuB,IAAZ;;AACF,iBAAK,cAAL;AACE,kBAAI,CAACvB,IAAI,CAACwB,WAAV,EAAuB,OAAO,IAAP;AACvB,qBAAOxB,IAAI,CAACwB,WAAL,CAAiB,CAAjB,CAAP;AANJ;AAQD,SAZD;;AAcA,eACE,MAAC,cAAD;AACE,UAAA,QAAQ,EAAER,cAAc,EAD1B,CAEE;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;;AAMF,WAAK,OAAL;AACE;;AACF;AACE,eAAO,IAAP;AAxCJ;AA0CD,GA3CD;;AA6CA,SACE;AACE,IAAA,SAAS,YAAKrB,GAAG,CAAC8B,WAAT,cAAwBrB,KAAK,CAACF,MAAN,GAAeP,GAAG,CAAC+B,QAAnB,GAA8B,IAAtD,CADX;AAEE,IAAA,OAAO,EAAE;AAAA,aAAMrB,QAAQ,CAAC,UAACD,KAAD;AAAA,+CAAiBA,KAAjB;AAAwBF,UAAAA,MAAM,EAAE;AAAhC;AAAA,OAAD,CAAd;AAAA,KAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,MAAC,SAAD;AACE,IAAA,IAAI,EAAEF,IAAI,CAACQ,IADb;AAEE,IAAA,KAAK,EAAER,IAAI,CAACQ,IAAL,KAAc,QAAd,GAAyBR,IAAI,CAAC2B,KAA9B,GAAsC,IAF/C;AAGE,IAAA,WAAW,EAAEvB,KAAK,CAACD,WAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AACE,IAAA,GAAG,EAAEI,8BAA8B,EADrC;AAEE,IAAA,GAAG,EAAC,EAFN;AAGE,IAAA,MAAM,EAAE;AAAA,aAAMF,QAAQ,CAAC,UAACD,KAAD;AAAA,+CAAiBA,KAAjB;AAAwBD,UAAAA,WAAW,EAAE;AAArC;AAAA,OAAD,CAAd;AAAA,KAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAJF,EAeE;AAAK,IAAA,SAAS,EAAER,GAAG,CAACiC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAO5B,IAAI,CAACqB,IAAZ,CADF,EAEE;AACE,IAAA,SAAS,EAAE1B,GAAG,UADhB;AAEE,IAAA,OAAO,EAAE;AAAA,aACPW,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAE,aAAR;AAAuBqB,QAAAA,OAAO,EAAE;AAAEf,UAAAA,EAAE,EAAEd,IAAI,CAACc;AAAX;AAAhC,OAAD,CADD;AAAA,KAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFF,CAfF,EA0BGV,KAAK,CAACF,MAAN,GAAeW,oBAAoB,EAAnC,GAAwC,IA1B3C,CADF;AA8BD,CAjGM;;GAAMd,W;UAUMF,gB;;;KAVNE,W","sourcesContent":["import * as React from \"react\";\r\nimport css from \"./NormalPiece.module.scss\";\r\nimport { DetailsSection } from \"./DetailsSection\";\r\nimport { usePartsDispatch } from \"../../../state/DatePartsContext\";\r\nimport { PartImage } from \"./PartImage\";\r\n\r\nexport const NormalPiece: React.FC<{ part: { [key: string]: any } }> = ({\r\n  part,\r\n}) => {\r\n  const [state, setState] = React.useState<{\r\n    extend: boolean;\r\n    imageLoaded: boolean;\r\n  }>({\r\n    extend: false,\r\n    imageLoaded: false,\r\n  });\r\n  const dispatch = usePartsDispatch();\r\n  const determineImageBackgroundSource: () => string = () => {\r\n    switch (part.type) {\r\n      case \"place\":\r\n        return part.source === \"yelp\" ? part.image_url : null;\r\n      case \"event\":\r\n        return part.source === \"yelp\" ? part.image_url : part.images[0].url;\r\n      default:\r\n        return \"\";\r\n    }\r\n  };\r\n\r\n  const determinePartDetails: () => JSX.Element = () => {\r\n    switch (part.type) {\r\n      case \"custom\":\r\n        return (\r\n          <DetailsSection id={part.id} details={part.details}></DetailsSection>\r\n        );\r\n      case \"event\":\r\n        const determineVenue: () => string | null = () => {\r\n          switch (part.source) {\r\n            case \"yelp\":\r\n              return !part.businesess_id || part.business_id === null\r\n                ? null\r\n                : part.business_id;\r\n            case \"ticketmaster\":\r\n              return part._embedded.venues[0].name;\r\n          }\r\n        };\r\n\r\n        const determinePrice: () =>\r\n          | { [key: string]: any }\r\n          | null\r\n          | string = () => {\r\n          switch (part.source) {\r\n            case \"yelp\":\r\n              if (!part.cost) return null;\r\n              return part.cost;\r\n            case \"ticketmaster\":\r\n              if (!part.priceRanges) return null;\r\n              return part.priceRanges[0];\r\n          }\r\n        };\r\n\r\n        return (\r\n          <DetailsSection\r\n            location={determineVenue()}\r\n            // price={determinePrice()}\r\n          ></DetailsSection>\r\n        );\r\n      case \"place\":\r\n        return;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`${css.normalPiece} ${state.extend ? css.extended : null}`}\r\n      onClick={() => setState((state) => ({ ...state, extend: true }))}\r\n    >\r\n      <PartImage\r\n        type={part.type}\r\n        color={part.type === \"custom\" ? part.color : null}\r\n        imageLoaded={state.imageLoaded}\r\n      >\r\n        <img\r\n          src={determineImageBackgroundSource()}\r\n          alt=\"\"\r\n          onLoad={() => setState((state) => ({ ...state, imageLoaded: true }))}\r\n        />\r\n      </PartImage>\r\n      <div className={css.partTitle}>\r\n        <span>{part.name}</span>\r\n        <button\r\n          className={css.delete}\r\n          onClick={() =>\r\n            dispatch({ type: \"REMOVE_PART\", payload: { id: part.id } })\r\n          }\r\n        >\r\n          X\r\n        </button>\r\n      </div>\r\n      {state.extend ? determinePartDetails() : null}\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}