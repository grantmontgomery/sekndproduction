{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as React from \"react\";\nimport { SearchSelector, WhereInput, WhenInput, EventsInput, PlacesInput } from \"./Parts\";\nimport Link from \"next/link\";\nimport css from \"./SearchBox.module.scss\";\nexport const SearchBox = () => {\n  const [searchQuery, setSearchQuery] = React.useState({\n    searchType: \"ALL\",\n    eventsCategory: \"\",\n    radius: \"\",\n    startTime: 0,\n    where: \"\",\n    endTime: 0,\n    endDate: null,\n    startDate: null,\n    placeType: \"\",\n    startFormatted: \"\",\n    endFormatted: \"\",\n    unixStartDate: null,\n    unixEndDate: null,\n    ticketMasterCategories: \"\",\n    yelpCategories: \"\"\n  });\n\n  const setDynamicPage = () => {\n    return \"\";\n  };\n\n  const linked = () => {\n    return __jsx(Link, {\n      href: \"/search/[query]\",\n      as: `/search/${searchQuery.searchType}+${setDynamicPage()}`\n    }, __jsx(\"button\", null, \"Search\"));\n  };\n\n  const handleInputChange = (key, input) => {\n    return setSearchQuery(state => _objectSpread(_objectSpread({}, state), {}, {\n      [key]: input\n    }));\n  };\n\n  const handleQueryDate = (key, date) => {\n    if (key === \"startDate\") {\n      const unixStartDate = Math.round(new Date(date).getTime() / 1000);\n      const timeOffSet = date.getTimezoneOffset() * 60;\n      const localStartTimeISO = new Date((unixStartDate - timeOffSet) * 1000).toISOString();\n      const localStartTimeISOFormatted = `${localStartTimeISO.substring(0, 19)}Z`;\n      return setSearchQuery(state => _objectSpread(_objectSpread({}, state), {}, {\n        [key]: date,\n        unixStartDate,\n        startFormatted: localStartTimeISOFormatted\n      }));\n    } else {\n      const unixEndDate = Math.round(new Date(date).getTime() / 1000);\n      const timeOffSet = date.getTimezoneOffset() * 60;\n      const localEndTimeISO = new Date((unixEndDate - timeOffSet) * 1000).toISOString();\n      const localEndTimeISOFormatted = `${localEndTimeISO.substring(0, 19)}Z`;\n      return setSearchQuery(state => _objectSpread(_objectSpread({}, state), {}, {\n        [key]: date,\n        unixEndDate,\n        endFormatted: localEndTimeISOFormatted\n      }));\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: css.searchBox\n  }, __jsx(SearchSelector, null), __jsx(WhereInput, {\n    handleInputChange: handleInputChange,\n    where: searchQuery.where,\n    radius: searchQuery.radius\n  }), __jsx(WhenInput, {\n    handleQueryDate: handleQueryDate,\n    startDate: searchQuery.startDate,\n    endDate: searchQuery.endDate\n  }), __jsx(EventsInput, {\n    handleInputChange: handleInputChange,\n    eventsCategory: searchQuery.eventsCategory\n  }), __jsx(PlacesInput, {\n    handleInputChange: handleInputChange,\n    placeType: searchQuery.placeType\n  }), __jsx(\"button\", {\n    className: css.searchButton\n  }, \"Search\"));\n};","map":null,"metadata":{},"sourceType":"module"}