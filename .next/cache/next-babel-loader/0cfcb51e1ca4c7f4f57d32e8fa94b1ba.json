{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from \"react\";\nimport { SearchSelector, WhereInput, WhenInput, EventsInput, PlacesInput } from \"./Parts\";\nimport Link from \"next/link\";\nimport css from \"./SearchBox.module.scss\";\nexport var SearchBox = function SearchBox(props) {\n  var _React$useState = React.useState({\n    searchType: \"ALL\",\n    eventsCategory: \"\",\n    radius: \"\",\n    startTime: 0,\n    location: \"\",\n    endTime: 0,\n    endDate: null,\n    startDate: null,\n    placeType: \"\",\n    startFormatted: \"\",\n    endFormatted: \"\",\n    unixStartDate: null,\n    unixEndDate: null,\n    ticketMasterCategories: \"\",\n    yelpCategories: \"\"\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      searchQuery = _React$useState2[0],\n      setSearchQuery = _React$useState2[1];\n\n  var setDynamicPage = function setDynamicPage() {\n    return \"\";\n  };\n\n  var linked = function linked() {\n    return __jsx(Link, {\n      href: \"/search/[queried]\",\n      as: \"/search/\".concat(searchQuery.searchType, \"+\").concat(setDynamicPage())\n    }, __jsx(\"button\", null, \"Search\"));\n  };\n\n  var handleInputChange = function handleInputChange(key, input) {\n    return setSearchQuery(function (state) {\n      return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, key, input));\n    });\n  };\n\n  var handleQueryDate = function handleQueryDate(key, date) {\n    if (key === \"startDate\") {\n      var unixStartDate = Math.round(new Date(date).getTime() / 1000);\n      var timeOffSet = date.getTimezoneOffset() * 60;\n      var localStartTimeISO = new Date((unixStartDate - timeOffSet) * 1000).toISOString();\n      var localStartTimeISOFormatted = \"\".concat(localStartTimeISO.substring(0, 19), \"Z\");\n      return setSearchQuery(function (state) {\n        var _objectSpread3;\n\n        return _objectSpread(_objectSpread({}, state), {}, (_objectSpread3 = {}, _defineProperty(_objectSpread3, key, date), _defineProperty(_objectSpread3, \"unixStartDate\", unixStartDate), _defineProperty(_objectSpread3, \"startFormatted\", localStartTimeISOFormatted), _objectSpread3));\n      });\n    } else {\n      var unixEndDate = Math.round(new Date(date).getTime() / 1000);\n\n      var _timeOffSet = date.getTimezoneOffset() * 60;\n\n      var localEndTimeISO = new Date((unixEndDate - _timeOffSet) * 1000).toISOString();\n      var localEndTimeISOFormatted = \"\".concat(localEndTimeISO.substring(0, 19), \"Z\");\n      return setSearchQuery(function (state) {\n        var _objectSpread4;\n\n        return _objectSpread(_objectSpread({}, state), {}, (_objectSpread4 = {}, _defineProperty(_objectSpread4, key, date), _defineProperty(_objectSpread4, \"unixEndDate\", unixEndDate), _defineProperty(_objectSpread4, \"endFormatted\", localEndTimeISOFormatted), _objectSpread4));\n      });\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: css.searchBox\n  }, __jsx(SearchSelector, {\n    searchType: searchQuery.searchType,\n    handleInputChange: handleInputChange\n  }), __jsx(WhereInput, {\n    handleInputChange: handleInputChange,\n    location: searchQuery.location,\n    radius: searchQuery.radius\n  }), __jsx(WhenInput, {\n    handleQueryDate: handleQueryDate,\n    startDate: searchQuery.startDate,\n    endDate: searchQuery.endDate\n  }), __jsx(EventsInput, {\n    handleInputChange: handleInputChange,\n    eventsCategory: searchQuery.eventsCategory\n  }), __jsx(PlacesInput, {\n    handleInputChange: handleInputChange,\n    placeType: searchQuery.placeType\n  }), __jsx(Link, {\n    href: \"/search/[queried]\",\n    as: \"/search/location=\".concat(searchQuery.location, \"+placeType=\").concat(searchQuery.placeType, \"+radius=\").concat(searchQuery.radius)\n  }, __jsx(\"button\", {\n    className: css.searchButton\n  }, \"Search\")));\n};\nexport function getStaticProps() {\n  return _getStaticProps.apply(this, arguments);\n}\n\nfunction _getStaticProps() {\n  _getStaticProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var res, posts;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(\"/api/ticketMasterAPI\");\n\n          case 2:\n            res = _context.sent;\n            _context.next = 5;\n            return res.json();\n\n          case 5:\n            posts = _context.sent;\n            return _context.abrupt(\"return\", {\n              props: {\n                posts: posts\n              }\n            });\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getStaticProps.apply(this, arguments);\n}","map":null,"metadata":{},"sourceType":"module"}