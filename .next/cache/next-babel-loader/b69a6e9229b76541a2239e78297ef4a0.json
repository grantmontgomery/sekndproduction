{"ast":null,"code":"export default (async (req, res) => {\n  try {\n    if (req.method !== \"GET\") {\n      const {\n        location,\n        radius,\n        start_date,\n        end_date,\n        categories\n      } = req.body;\n      const yelpEvents = new URL(\"https://api.yelp.com/v3/events/search\"),\n            params = {\n        location,\n        radius,\n        start_date,\n        end_date\n      };\n      Object.keys(params).forEach(key => yelpEvents.searchParams.append(key, params[key]));\n      const yelpUrlString = yelpEvents.toString(); //function\n\n      const yelpResponse = await fetch(yelpUrlString, {\n        headers: {\n          Authorization: `Bearer ${process.env.YELP_API_KEY}`\n        }\n      });\n      const jsonResponse = await yelpResponse.json();\n      return res.send(jsonResponse);\n    }\n\n    return res.status(200).end(\"Yelp Events API\");\n  } catch (err) {\n    return res.send(err);\n  }\n});","map":null,"metadata":{},"sourceType":"module"}