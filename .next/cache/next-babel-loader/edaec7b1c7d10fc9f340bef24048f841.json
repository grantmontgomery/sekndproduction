{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\gmont\\\\sekndproduction\\\\state\\\\SearchGridContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport * as React from \"react\";\nimport Cookie from \"js-cookie\";\n\nvar gridReducer = function gridReducer(state, action) {\n  switch (action.type) {\n    case \"ADD_GRID_TEMPLATE\":\n      return {\n        hourStrings: action.payload.hourStrings,\n        gridTemplate: action.payload.gridTemplate\n      };\n\n    default:\n      return state;\n  }\n};\n\nvar GridStateContext = /*#__PURE__*/React.createContext(undefined);\nvar GridDispatchContext = /*#__PURE__*/React.createContext(undefined);\nexport var GridProvider = function GridProvider(_ref) {\n  _s();\n\n  var children = _ref.children,\n      initialGridState = _ref.initialGridState;\n\n  var _React$useReducer = React.useReducer(gridReducer, initialGridState ? initialGridState : {\n    gridTemplate: \"\",\n    hourStrings: []\n  }),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      state = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  React.useEffect(function () {\n    Cookie.set(\"grid\", state);\n  }, [state]);\n  return __jsx(GridStateContext.Provider, {\n    value: state,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, __jsx(GridDispatchContext.Provider, {\n    value: dispatch,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, children));\n};\n\n_s(GridProvider, \"X+Nb16jO2RC5J0WQdSVy4Pt7aCI=\");\n\n_c = GridProvider;\nexport var useGridState = function useGridState() {\n  _s2();\n\n  var context = React.useContext(GridStateContext);\n\n  if (context === undefined) {\n    throw new Error(\"Please use within GridProvider\");\n  }\n\n  return context;\n};\n\n_s2(useGridState, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nexport var useGridDispatch = function useGridDispatch() {\n  _s3();\n\n  var context = React.useContext(GridDispatchContext);\n\n  if (context === undefined) {\n    throw new Error(\"Please use within GridProvider\");\n  }\n\n  return context;\n};\n\n_s3(useGridDispatch, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"GridProvider\");","map":{"version":3,"sources":["C:/Users/gmont/sekndproduction/state/SearchGridContext.tsx"],"names":["React","Cookie","gridReducer","state","action","type","hourStrings","payload","gridTemplate","GridStateContext","createContext","undefined","GridDispatchContext","GridProvider","children","initialGridState","useReducer","dispatch","useEffect","set","useGridState","context","useContext","Error","useGridDispatch"],"mappings":";;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AAeA,IAAMC,WAAyC,GAAG,SAA5CA,WAA4C,CAACC,KAAD,EAAeC,MAAf,EAA0B;AAC1E,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,mBAAL;AACE,aAAO;AACLC,QAAAA,WAAW,EAAEF,MAAM,CAACG,OAAP,CAAeD,WADvB;AAELE,QAAAA,YAAY,EAAEJ,MAAM,CAACG,OAAP,CAAeC;AAFxB,OAAP;;AAKF;AACE,aAAOL,KAAP;AARJ;AAUD,CAXD;;AAaA,IAAMM,gBAAsC,gBAAGT,KAAK,CAACU,aAAN,CAAoBC,SAApB,CAA/C;AAEA,IAAMC,mBAEL,gBAAGZ,KAAK,CAACU,aAAN,CAAoBC,SAApB,CAFJ;AAIA,OAAO,IAAME,YAMI,GAAG,SANPA,YAMO,OAAoC;AAAA;;AAAA,MAAjCC,QAAiC,QAAjCA,QAAiC;AAAA,MAAvBC,gBAAuB,QAAvBA,gBAAuB;;AAAA,0BAC5Bf,KAAK,CAACgB,UAAN,CACxBd,WADwB,EAExBa,gBAAgB,GACZA,gBADY,GAEZ;AACEP,IAAAA,YAAY,EAAE,EADhB;AAEEF,IAAAA,WAAW,EAAE;AAFf,GAJoB,CAD4B;AAAA;AAAA,MAC/CH,KAD+C;AAAA,MACxCc,QADwC;;AAWtDjB,EAAAA,KAAK,CAACkB,SAAN,CAAgB,YAAM;AACpBjB,IAAAA,MAAM,CAACkB,GAAP,CAAW,MAAX,EAAmBhB,KAAnB;AACD,GAFD,EAEG,CAACA,KAAD,CAFH;AAIA,SACE,MAAC,gBAAD,CAAkB,QAAlB;AAA2B,IAAA,KAAK,EAAEA,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,mBAAD,CAAqB,QAArB;AAA8B,IAAA,KAAK,EAAEc,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,QADH,CADF,CADF;AAOD,CA5BM;;GAAMD,Y;;KAAAA,Y;AA8Bb,OAAO,IAAMO,YAAY,GAAG,SAAfA,YAAe,GAAa;AAAA;;AACvC,MAAMC,OAAO,GAAGrB,KAAK,CAACsB,UAAN,CAAiBb,gBAAjB,CAAhB;;AAEA,MAAIY,OAAO,KAAKV,SAAhB,EAA2B;AACzB,UAAM,IAAIY,KAAJ,CAAU,gCAAV,CAAN;AACD;;AACD,SAAOF,OAAP;AACD,CAPM;;IAAMD,Y;;AASb,OAAO,IAAMI,eAAe,GAAG,SAAlBA,eAAkB,GAA8B;AAAA;;AAC3D,MAAMH,OAAO,GAAGrB,KAAK,CAACsB,UAAN,CAAiBV,mBAAjB,CAAhB;;AAEA,MAAIS,OAAO,KAAKV,SAAhB,EAA2B;AACzB,UAAM,IAAIY,KAAJ,CAAU,gCAAV,CAAN;AACD;;AACD,SAAOF,OAAP;AACD,CAPM;;IAAMG,e","sourcesContent":["import * as React from \"react\";\r\nimport Cookie from \"js-cookie\";\r\n\r\ntype State = {\r\n  hourStrings: string[];\r\n  gridTemplate: string;\r\n};\r\n\r\ntype Action = {\r\n  type: string;\r\n  payload: {\r\n    gridTemplate: string;\r\n    hourStrings: string[];\r\n  };\r\n};\r\n\r\nconst gridReducer: React.Reducer<State, Action> = (state: State, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_GRID_TEMPLATE\":\r\n      return {\r\n        hourStrings: action.payload.hourStrings,\r\n        gridTemplate: action.payload.gridTemplate,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst GridStateContext: React.Context<State> = React.createContext(undefined);\r\n\r\nconst GridDispatchContext: React.Context<\r\n  React.Dispatch<Action> | undefined\r\n> = React.createContext(undefined);\r\n\r\nexport const GridProvider: ({\r\n  children,\r\n  initialGridState,\r\n}: {\r\n  children: React.ReactNode;\r\n  initialGridState: State;\r\n}) => JSX.Element = ({ children, initialGridState }) => {\r\n  const [state, dispatch] = React.useReducer(\r\n    gridReducer,\r\n    initialGridState\r\n      ? initialGridState\r\n      : {\r\n          gridTemplate: \"\",\r\n          hourStrings: [],\r\n        }\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    Cookie.set(\"grid\", state);\r\n  }, [state]);\r\n\r\n  return (\r\n    <GridStateContext.Provider value={state}>\r\n      <GridDispatchContext.Provider value={dispatch}>\r\n        {children}\r\n      </GridDispatchContext.Provider>\r\n    </GridStateContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useGridState = (): State => {\r\n  const context = React.useContext(GridStateContext);\r\n\r\n  if (context === undefined) {\r\n    throw new Error(\"Please use within GridProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const useGridDispatch = (): React.Dispatch<Action> => {\r\n  const context = React.useContext(GridDispatchContext);\r\n\r\n  if (context === undefined) {\r\n    throw new Error(\"Please use within GridProvider\");\r\n  }\r\n  return context;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}