{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport * as React from \"react\";\nimport { Layout, ResultCard } from \"../../components\";\nimport { yelpBusinessesCall } from \"../../apicalls\";\nimport css from \"../../styles/Queried.module.scss\";\nexport default function Queried(_ref) {\n  var results = _ref.results;\n  console.log(results);\n\n  if (results) {\n    return __jsx(Layout, null, __jsx(\"main\", {\n      className: css.queriedPage\n    }, __jsx(\"section\", {\n      className: css.queryDisplay\n    }), __jsx(\"section\", {\n      className: css.header\n    }), __jsx(\"section\", {\n      className: css.results\n    }, __jsx(\"div\", {\n      className: css.resultsSlider\n    }, typeof results === \"object\" ? results.map(function (business) {\n      return __jsx(ResultCard, null);\n    }) : null))));\n  }\n}\n\nQueried.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var query, checkURLIsString, paramValueArray, searchParamsValues, apiResponse;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref2.query;\n\n            if (!query.queried) {\n              _context.next = 12;\n              break;\n            }\n\n            checkURLIsString = query.queried.toString();\n            paramValueArray = checkURLIsString.split(\"+\");\n            searchParamsValues = {};\n            paramValueArray.forEach(function (param) {\n              var indexOfEqual = param.search(\"=\");\n              if (indexOfEqual === -1) return;else {\n                var paramKey = param.substring(0, indexOfEqual);\n                var paramValue = param.substring(indexOfEqual + 1);\n                searchParamsValues[paramKey] = paramValue;\n              }\n            });\n            _context.next = 8;\n            return yelpBusinessesCall(searchParamsValues);\n\n          case 8:\n            apiResponse = _context.sent;\n            return _context.abrupt(\"return\", {\n              results: apiResponse\n            });\n\n          case 12:\n            return _context.abrupt(\"return\", {\n              results: {}\n            });\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();","map":null,"metadata":{},"sourceType":"module"}